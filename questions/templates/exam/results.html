<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados del Examen CCNA</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'questions/css/results.css' %}">
</head>
<body>
    <div class="results-container">
        <h1>🎓 Resultados del Examen CCNA</h1>
        
        {% if score >= 90 %}
            <div class="score-circle score-excellent">
                {{ score|floatformat:0 }}%
            </div>
        {% elif score >= 75 %}
            <div class="score-circle score-good">
                {{ score|floatformat:0 }}%
            </div>
        {% elif score >= 60 %}
            <div class="score-circle score-fair">
                {{ score|floatformat:0 }}%
            </div>
        {% else %}
            <div class="score-circle score-poor">
                {{ score|floatformat:0 }}%
            </div>
        {% endif %}
        
        <div class="progress-bar">
            {% if score >= 90 %}
                <div class="progress-fill progress-excellent" id="progressBar"></div>
            {% elif score >= 75 %}
                <div class="progress-fill progress-good" id="progressBar"></div>
            {% elif score >= 60 %}
                <div class="progress-fill progress-fair" id="progressBar"></div>
            {% else %}
                <div class="progress-fill progress-poor" id="progressBar"></div>
            {% endif %}
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-number">{{ correct_answers }}</div>
                <div class="stat-label">Respuestas Correctas</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">{{ total_questions }}</div>
                <div class="stat-label">Total de Preguntas</div>
            </div>
        </div>
        
        {% if score >= 90 %}
            <div class="message message-excellent">
                🌟 ¡Excelente trabajo! Tienes un dominio excepcional de los conceptos CCNA.
            </div>
        {% elif score >= 75 %}
            <div class="message message-good">
                👍 ¡Buen trabajo! Tienes un sólido entendimiento de los temas CCNA.
            </div>
        {% elif score >= 60 %}
            <div class="message message-fair">
                📚 Resultado aceptable, pero hay margen para mejorar. Sigue estudiando.
            </div>
        {% else %}
            <div class="message message-poor">
                📖 Necesitas repasar más los conceptos. ¡No te desanimes, sigue practicando!
            </div>
        {% endif %}
        
        <div class="action-buttons">
            <!-- Botón dinámico según el tipo de examen -->
            {% if exam_type == 'selection' %}
                <a href="{% url 'selection_exam' %}" class="btn btn-primary">🔄 Repetir Examen de Selección</a>
            {% elif exam_type == 'drag' %}
                <a href="{% url 'drag_exam' %}" class="btn btn-primary">🔄 Repetir Examen Drag & Drop</a>
            {% else %}
                <a href="{% url 'selection_exam' %}" class="btn btn-primary">🔄 Intentar de Nuevo</a>
            {% endif %}
            
            <a href="{% url 'examen' %}" class="btn btn-home">🏠 Menú Principal</a>
            <a href="/admin/" class="btn btn-secondary">⚙️ Panel de Admin</a>
        </div>
    </div>

    <!-- JSON con datos para JavaScript -->
    {{ score|json_script:"score-data" }}
    
    <script src="{% static 'questions/js/results.js' %}"></script>
</body>
</html>